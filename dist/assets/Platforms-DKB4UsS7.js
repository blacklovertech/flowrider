import{a as k,u as N,r as g,j as e,R}from"./index-DC7rahvd.js";import{X as S}from"./x-vaJZgu5D.js";import{M as y}from"./map-pin-CMXhUZfw.js";import{C as T}from"./clock-CcT56hys.js";import{D as P}from"./dollar-sign-8pmRBUyO.js";import{S as h,C as v,a as f}from"./shopping-bag-CJwP2fLC.js";import{P as C,a as D}from"./PageContainer-BHEaM04S.js";import{Z as L}from"./zap-D-n2QbIw.js";import{P as x}from"./package-BanoZMqe.js";const q=({isOpen:o,onClose:d,platform:r})=>{const{addTask:u}=k(),{riders:b,updateRider:m}=N(),[i,n]=g.useState({pickupLocation:"",dropLocation:"",estimatedTime:30,earnings:75}),[s,c]=g.useState(!1),l=b.filter(t=>t.status==="active"&&t.categories.includes(r==null?void 0:r.category)),w=async t=>{if(t.preventDefault(),l.length===0){alert("No available riders for this category");return}c(!0),setTimeout(()=>{const a=l.reduce((p,j)=>j.rating>p.rating?j:p);u({riderId:a.id,platform:(r==null?void 0:r.name)||"Unknown",category:r==null?void 0:r.category,status:"assigned",pickupLocation:i.pickupLocation,dropLocation:i.dropLocation,earnings:i.earnings,estimatedTime:i.estimatedTime}),m(a.id,{status:"busy"}),n({pickupLocation:"",dropLocation:"",estimatedTime:30,earnings:75}),c(!1),d()},2e3)};return!o||!r?null:e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-900",children:[r.name," Request Simulation"]}),e.jsx("button",{onClick:d,className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(S,{className:"h-6 w-6"})})]}),e.jsxs("form",{onSubmit:w,className:"p-6 space-y-6",children:[e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[e.jsx("h3",{className:"font-medium text-blue-900 mb-2",children:"Available Riders"}),e.jsxs("p",{className:"text-sm text-blue-700",children:[l.length," riders available for ",r.category," delivery"]}),l.length>0&&e.jsxs("div",{className:"mt-2 text-sm text-blue-600",children:["Best match: ",l.reduce((t,a)=>a.rating>t.rating?a:t).name," (",l.reduce((t,a)=>a.rating>t.rating?a:t).rating,"★)"]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(y,{className:"h-4 w-4 inline mr-1"}),"Pickup Location"]}),e.jsx("input",{type:"text",required:!0,value:i.pickupLocation,onChange:t=>n(a=>({...a,pickupLocation:t.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter pickup address"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(y,{className:"h-4 w-4 inline mr-1"}),"Drop Location"]}),e.jsx("input",{type:"text",required:!0,value:i.dropLocation,onChange:t=>n(a=>({...a,dropLocation:t.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter delivery address"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(T,{className:"h-4 w-4 inline mr-1"}),"Est. Time (min)"]}),e.jsx("input",{type:"number",min:"5",max:"120",value:i.estimatedTime,onChange:t=>n(a=>({...a,estimatedTime:parseInt(t.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(P,{className:"h-4 w-4 inline mr-1"}),"Earnings (₹)"]}),e.jsx("input",{type:"number",min:"20",max:"500",value:i.earnings,onChange:t=>n(a=>({...a,earnings:parseInt(t.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{type:"button",onClick:d,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",disabled:s,children:"Cancel"}),e.jsx("button",{type:"submit",disabled:s||l.length===0,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:s?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),e.jsx("span",{children:"Processing..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(h,{className:"h-4 w-4"}),e.jsx("span",{children:"Send Request"})]})})]})]})]})})},U=()=>{const{riders:o}=N(),[d,r]=g.useState(!1),[u,b]=g.useState(""),m=[{id:"zomato",name:"Zomato",category:"food",icon:x,color:"bg-red-500",description:"Food delivery platform",activeOrders:145,avgDeliveryTime:"28 min"},{id:"swiggy",name:"Swiggy",category:"food",icon:x,color:"bg-orange-500",description:"Food delivery platform",activeOrders:132,avgDeliveryTime:"25 min"},{id:"blinkit",name:"Blinkit",category:"grocery",icon:f,color:"bg-yellow-500",description:"Instant grocery delivery",activeOrders:89,avgDeliveryTime:"15 min"},{id:"instamart",name:"Instamart",category:"grocery",icon:f,color:"bg-green-500",description:"Quick grocery delivery",activeOrders:76,avgDeliveryTime:"18 min"},{id:"dunzo",name:"Dunzo",category:"courier",icon:x,color:"bg-blue-500",description:"Courier & delivery",activeOrders:54,avgDeliveryTime:"35 min"},{id:"rapido",name:"Rapido",category:"taxi",icon:v,color:"bg-purple-500",description:"Bike taxi service",activeOrders:98,avgDeliveryTime:"12 min"}],i=s=>{b(s),r(!0)},n=R.useCallback(s=>o.filter(c=>c.status==="active"&&c.categories.includes(s)).length,[o]);return e.jsxs(C,{children:[e.jsx(D,{title:"Platform Integration",subtitle:"Manage API connections and simulate platform requests"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:m.map(s=>{const c=s.icon,l=n(s.category);return e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg border border-gray-100",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`${s.color} text-white w-12 h-12 rounded-lg flex items-center justify-center`,children:e.jsx(c,{className:"h-6 w-6"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-900",children:s.name}),e.jsx("p",{className:"text-sm text-gray-600",children:s.description})]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("div",{className:"w-3 h-3 bg-green-400 rounded-full"}),e.jsx("span",{className:"text-xs text-green-600 font-medium",children:"Live"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6 text-center",children:[e.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:s.activeOrders}),e.jsx("p",{className:"text-xs text-gray-600",children:"Active Orders"})]}),e.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[e.jsx("p",{className:"text-2xl font-bold text-green-600",children:l}),e.jsx("p",{className:"text-xs text-gray-600",children:"Available Riders"})]})]}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Avg Delivery Time"}),e.jsx("p",{className:"font-bold text-gray-900",children:s.avgDeliveryTime})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Success Rate"}),e.jsx("p",{className:"font-bold text-green-600",children:"96.2%"})]})]}),e.jsxs("button",{onClick:()=>i(s.id),className:"w-full bg-blue-600 text-white py-2 px-4 rounded-lg font-semibold hover:bg-blue-700 transition-colors flex items-center justify-center space-x-2",children:[e.jsx(h,{className:"h-4 w-4"}),e.jsx("span",{children:"Simulate Request"})]})]},s.id)})}),e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg border border-gray-100 mb-8",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"API Performance Metrics"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"bg-blue-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx(L,{className:"h-8 w-8 text-blue-600"})}),e.jsx("p",{className:"text-2xl font-bold text-blue-600 mb-1",children:"99.8%"}),e.jsx("p",{className:"text-sm text-gray-600",children:"API Uptime"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"bg-green-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx(x,{className:"h-8 w-8 text-green-600"})}),e.jsx("p",{className:"text-2xl font-bold text-green-600 mb-1",children:"2.3s"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Avg Response Time"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"bg-teal-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx(h,{className:"h-8 w-8 text-teal-600"})}),e.jsx("p",{className:"text-2xl font-bold text-teal-600 mb-1",children:"1,247"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Requests Today"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"bg-purple-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx(v,{className:"h-8 w-8 text-purple-600"})}),e.jsx("p",{className:"text-2xl font-bold text-purple-600 mb-1",children:"94.5%"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Assignment Success"})]})]})]}),e.jsx(q,{isOpen:d,onClose:()=>r(!1),platform:m.find(s=>s.id===u)})]})};export{U as default};
