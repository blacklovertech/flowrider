import{c as u,u as m,j as e,U as g,r as d,a as f,B as b}from"./index-DC7rahvd.js";import{N as x}from"./navigation-CjZ6JO41.js";import{M as j}from"./map-pin-CMXhUZfw.js";import{C as y}from"./clock-CcT56hys.js";import{D as v}from"./dollar-sign-8pmRBUyO.js";import{T as h}from"./trending-up-B045VBoV.js";import{K as c}from"./KPI-Bm6yMQsX.js";import{P as N,a as w}from"./PageContainer-BHEaM04S.js";import{P as R}from"./package-BanoZMqe.js";import"./ui-CNot0A-i.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M=u("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),T=()=>{const{riders:l}=m(),r=l.filter(s=>s.status==="active"),i=l.filter(s=>s.status==="busy");return e.jsxs("div",{className:"h-80 bg-gray-100 rounded-lg relative overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-50 to-green-50",children:[e.jsx("div",{className:"absolute top-16 left-0 w-full h-px bg-gray-300"}),e.jsx("div",{className:"absolute top-32 left-0 w-full h-px bg-gray-300"}),e.jsx("div",{className:"absolute top-48 left-0 w-full h-px bg-gray-300"}),e.jsx("div",{className:"absolute top-64 left-0 w-full h-px bg-gray-300"}),e.jsx("div",{className:"absolute left-16 top-0 h-full w-px bg-gray-300"}),e.jsx("div",{className:"absolute left-32 top-0 h-full w-px bg-gray-300"}),e.jsx("div",{className:"absolute left-48 top-0 h-full w-px bg-gray-300"}),e.jsx("div",{className:"absolute left-64 top-0 h-full w-px bg-gray-300"})]}),r.map((s,a)=>e.jsxs("div",{className:"absolute transform -translate-x-1/2 -translate-y-1/2 cursor-pointer group",style:{left:`${20+a*15%60}%`,top:`${25+a*20%50}%`},children:[e.jsx("div",{className:"bg-green-500 text-white w-8 h-8 rounded-full flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform",children:e.jsx(x,{className:"h-4 w-4"})}),e.jsx("div",{className:"absolute top-10 left-1/2 transform -translate-x-1/2 bg-white px-2 py-1 rounded shadow-lg text-xs font-medium opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap",children:s.name})]},s.id)),i.map((s,a)=>e.jsxs("div",{className:"absolute transform -translate-x-1/2 -translate-y-1/2 cursor-pointer group",style:{left:`${30+a*18%50}%`,top:`${35+a*25%40}%`},children:[e.jsx("div",{className:"bg-yellow-500 text-white w-8 h-8 rounded-full flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform",children:e.jsx(x,{className:"h-4 w-4"})}),e.jsxs("div",{className:"absolute top-10 left-1/2 transform -translate-x-1/2 bg-white px-2 py-1 rounded shadow-lg text-xs font-medium opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap",children:[s.name," (Busy)"]})]},s.id)),e.jsx("div",{className:"absolute top-4 right-4 bg-white p-2 rounded-lg shadow-lg",children:e.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),e.jsxs("span",{children:["Active (",r.length,")"]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded-full"}),e.jsxs("span",{children:["Busy (",i.length,")"]})]})]})}),e.jsxs("div",{className:"absolute bottom-4 left-4 bg-white p-3 rounded-lg shadow-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(j,{className:"h-4 w-4 text-blue-600"}),e.jsx("span",{className:"text-sm font-medium",children:"Bangalore Central Area"})]}),e.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[e.jsx(g,{className:"h-4 w-4 text-gray-500"}),e.jsxs("span",{className:"text-xs text-gray-600",children:[l.length," total riders"]})]})]})]})},E=()=>{const[l,r]=d.useState({activeRequests:47,avgResponseTime:2.3,hourlyEarnings:1847,allocationSuccess:94.5});d.useEffect(()=>{const s=setInterval(()=>{r(a=>({activeRequests:Math.max(20,a.activeRequests+Math.floor((Math.random()-.5)*10)),avgResponseTime:Math.max(1,Math.min(5,a.avgResponseTime+(Math.random()-.5)*.5)),hourlyEarnings:Math.max(1e3,a.hourlyEarnings+Math.floor((Math.random()-.3)*100)),allocationSuccess:Math.max(85,Math.min(98,a.allocationSuccess+(Math.random()-.5)*2))}))},3e3);return()=>clearInterval(s)},[]);const i=[{label:"Active Requests",value:l.activeRequests,icon:M,color:"text-blue-600",bg:"bg-blue-100",change:"+12%"},{label:"Response Time",value:`${l.avgResponseTime.toFixed(1)}s`,icon:y,color:"text-green-600",bg:"bg-green-100",change:"-8%"},{label:"Hourly Earnings",value:`₹${l.hourlyEarnings}`,icon:v,color:"text-purple-600",bg:"bg-purple-100",change:"+15%"},{label:"Success Rate",value:`${l.allocationSuccess.toFixed(1)}%`,icon:h,color:"text-teal-600",bg:"bg-teal-100",change:"+2%"}];return e.jsxs("div",{className:"space-y-4",children:[i.map((s,a)=>{const o=s.icon;return e.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`${s.bg} p-2 rounded-lg`,children:e.jsx(o,{className:`h-5 w-5 ${s.color}`})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:s.label}),e.jsx("p",{className:"text-xl font-bold text-gray-900",children:s.value})]})]}),e.jsx("div",{className:"text-right",children:e.jsx("span",{className:"text-sm font-medium text-green-600",children:s.change})})]},a)}),e.jsxs("div",{className:"mt-6 p-4 bg-gradient-to-r from-blue-50 to-teal-50 border border-blue-200 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"System Status"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"API Health"}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),e.jsx("span",{className:"text-green-600 font-medium",children:"Operational"})]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Allocation Engine"}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),e.jsx("span",{className:"text-green-600 font-medium",children:"Running"})]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Map Services"}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),e.jsx("span",{className:"text-green-600 font-medium",children:"Connected"})]})]})]})]})]})},H=()=>{const{riders:l}=m(),{tasks:r}=f(),i=l.filter(t=>t.status==="active").length,s=r.length,a=r.filter(t=>t.status==="completed").length,o=l.reduce((t,n)=>t+n.totalEarnings,0)/Math.max(l.length,1);return e.jsxs(N,{children:[e.jsx(w,{title:"Fleet Operations Dashboard",subtitle:"Real-time monitoring of rider allocation and performance metrics"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsx(c,{title:"Active Riders",value:i,icon:e.jsx(g,{className:"h-6 w-6"}),color:"blue",sublabel:"+12% from yesterday"}),e.jsx(c,{title:"Total Tasks",value:s,icon:e.jsx(R,{className:"h-6 w-6"}),color:"teal",sublabel:"+8% completion rate"}),e.jsx(c,{title:"Completed Today",value:a,icon:e.jsx(h,{className:"h-6 w-6"}),color:"green",sublabel:"95% success rate"}),e.jsx(c,{title:"Avg Earnings",value:`₹${Math.round(o)}`,icon:e.jsx(b,{className:"h-6 w-6"}),color:"purple",sublabel:"+15% from last week"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg border border-gray-100",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Rider Locations"}),e.jsx(T,{})]}),e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg border border-gray-100",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Real-time Metrics"}),e.jsx(E,{})]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg border border-gray-100",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Recent Task Assignments"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Task ID"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rider"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Platform"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Earnings"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.slice(0,8).map(t=>{var n;return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["#",t.id.slice(0,8)]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:((n=l.find(p=>p.id===t.riderId))==null?void 0:n.name)||"Unknown"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:t.platform}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${t.category==="food"?"bg-orange-100 text-orange-800":t.category==="grocery"?"bg-green-100 text-green-800":t.category==="courier"?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"}`,children:t.category})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${t.status==="completed"?"bg-green-100 text-green-800":t.status==="in-progress"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:t.status})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["₹",t.earnings]})]},t.id)})})]})})]})]})};export{H as default};
