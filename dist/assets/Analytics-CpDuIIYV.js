import{j as e,u,a as j,r as d,U as b}from"./index-DC7rahvd.js";import{K as x}from"./KPI-Bm6yMQsX.js";import{P as f,a as N}from"./PageContainer-BHEaM04S.js";import{T as g}from"./trending-up-B045VBoV.js";import{P as y}from"./package-BanoZMqe.js";import{a as v,S as w,C as k}from"./shopping-bag-CJwP2fLC.js";import{D as S}from"./dollar-sign-8pmRBUyO.js";import"./ui-CNot0A-i.js";const T=()=>{const r=[{day:"Mon",amount:15200},{day:"Tue",amount:18500},{day:"Wed",amount:16800},{day:"Thu",amount:21200},{day:"Fri",amount:19800},{day:"Sat",amount:24500},{day:"Sun",amount:22100}],a=Math.max(...r.map(t=>t.amount));return e.jsxs("div",{className:"h-64",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(g,{className:"h-5 w-5 text-green-600"}),e.jsx("span",{className:"text-sm text-gray-600",children:"Last 7 days"})]}),e.jsx("div",{className:"text-sm text-green-600 font-medium",children:"+18.2%"})]}),e.jsx("div",{className:"h-48 flex items-end space-x-2",children:r.map((t,n)=>{const i=t.amount/a*100;return e.jsxs("div",{className:"flex-1 flex flex-col items-center",children:[e.jsx("div",{className:"relative flex-1 flex items-end",children:e.jsx("div",{className:"w-full bg-gradient-to-t from-blue-500 to-blue-400 rounded-t-lg transition-all duration-500 hover:from-blue-600 hover:to-blue-500 cursor-pointer group",style:{height:`${i}%`},children:e.jsxs("div",{className:"absolute -top-8 left-1/2 transform -translate-x-1/2 bg-gray-900 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap",children:["₹",t.amount.toLocaleString()]})})}),e.jsx("div",{className:"mt-2 text-xs text-gray-600 font-medium",children:t.day})]},t.day)})}),e.jsx("div",{className:"mt-4 text-center",children:e.jsxs("p",{className:"text-sm text-gray-600",children:["Total: ₹",r.reduce((t,n)=>t+n.amount,0).toLocaleString()]})})]})},$=()=>{const r=[{name:"Food",count:485,color:"bg-orange-500",icon:y},{name:"Grocery",count:324,color:"bg-green-500",icon:v},{name:"Courier",count:198,color:"bg-blue-500",icon:w},{name:"Taxi",count:267,color:"bg-purple-500",icon:k}],a=r.reduce((t,n)=>t+n.count,0);return e.jsxs("div",{className:"h-64 flex flex-col",children:[e.jsx("div",{className:"flex-1 space-y-4",children:r.map((t,n)=>{const i=t.icon,c=t.count/a*100;return e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex items-center space-x-3 w-24",children:[e.jsx("div",{className:`${t.color} p-2 rounded-lg text-white`,children:e.jsx(i,{className:"h-4 w-4"})}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:t.name})]}),e.jsx("div",{className:"flex-1 bg-gray-200 h-4 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full ${t.color} transition-all duration-1000 rounded-full`,style:{width:`${c}%`}})}),e.jsxs("div",{className:"text-right w-16",children:[e.jsx("div",{className:"text-sm font-bold text-gray-900",children:t.count}),e.jsxs("div",{className:"text-xs text-gray-500",children:[c.toFixed(1),"%"]})]})]},t.name)})}),e.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200",children:e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Total Deliveries"}),e.jsx("span",{className:"font-bold text-gray-900",children:a.toLocaleString()})]})})]})},B=()=>{const{riders:r}=u(),{tasks:a}=j(),t=r.length,n=d.useMemo(()=>r.filter(s=>s.status==="active").length,[r]),i=a.length,c=d.useMemo(()=>a.filter(s=>s.status==="completed").length,[a]),m=d.useMemo(()=>r.reduce((s,l)=>s+l.totalEarnings,0),[r]),h=d.useMemo(()=>["food","grocery","courier","taxi"].map(s=>({name:s,count:a.filter(l=>l.category===s).length,riders:r.filter(l=>l.categories.includes(s)).length})),[a,r]),p=d.useMemo(()=>[{name:"Zomato",tasks:a.filter(s=>s.platform==="Zomato").length,revenue:12500},{name:"Swiggy",tasks:a.filter(s=>s.platform==="Swiggy").length,revenue:11800},{name:"Blinkit",tasks:a.filter(s=>s.platform==="Blinkit").length,revenue:8600},{name:"Rapido",tasks:a.filter(s=>s.platform==="Rapido").length,revenue:7200}],[a]);return e.jsxs(f,{children:[e.jsx(N,{title:"Analytics & Insights",subtitle:"Comprehensive analytics for data-driven decisions"}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-5 mb-4",children:[e.jsx("h3",{className:"font-bold mb-2",children:"Primary Market Validation"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:"Riders preferring salary:"})," 78%"]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:"Ops willing to pay premium:"})," 15-20%"]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:"Avg. deliveries/elite rider:"})," 38/shift"]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:"Attrition cost/gig:"})," ₹4,000"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:[e.jsx(x,{title:"Active Riders",value:`${n}/${t}`,icon:e.jsx(b,{className:"h-6 w-6"}),color:"blue",progress:t?n/t:0}),e.jsx(x,{title:"Completion Rate",value:`${(c/i*100).toFixed(1)}%`,icon:e.jsx(g,{className:"h-6 w-6"}),color:"green",sublabel:`${c} of ${i} tasks completed`}),e.jsx(x,{title:"Total Earnings",value:`₹${m.toLocaleString()}`,icon:e.jsx(S,{className:"h-6 w-6"}),color:"purple",sublabel:`₹${Math.round(m/Math.max(t,1))} avg per rider`})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg border border-gray-100",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Earnings Trend"}),e.jsx(T,{})]}),e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg border border-gray-100",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Category Distribution"}),e.jsx($,{})]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg border border-gray-100 mb-8",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Category Performance"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:h.map((s,l)=>{const o=[{bg:"bg-orange-50",text:"text-orange-600",accent:"bg-orange-500"},{bg:"bg-green-50",text:"text-green-600",accent:"bg-green-500"},{bg:"bg-blue-50",text:"text-blue-600",accent:"bg-blue-500"},{bg:"bg-purple-50",text:"text-purple-600",accent:"bg-purple-500"}][l];return e.jsxs("div",{className:`${o.bg} p-6 rounded-xl border border-gray-200`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:`${o.accent} w-3 h-3 rounded-full`}),e.jsx("span",{className:"text-sm font-medium text-gray-600 capitalize",children:s.name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Tasks"}),e.jsx("span",{className:`font-bold ${o.text}`,children:s.count})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Riders"}),e.jsx("span",{className:`font-bold ${o.text}`,children:s.riders})]})]})]},s.name)})})]}),e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg border border-gray-100",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Platform Revenue Analysis"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Platform"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tasks Completed"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Revenue Generated"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Avg per Task"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Growth"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:p.map((s,l)=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"font-medium text-gray-900",children:s.name})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:s.tasks}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["₹",s.revenue.toLocaleString()]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["₹",Math.round(s.revenue/Math.max(s.tasks,1))]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("span",{className:"text-sm font-medium text-green-600",children:["+",(8+l*2).toFixed(1),"%"]})})]},s.name))})]})})]})]})};export{B as default};
